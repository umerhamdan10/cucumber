<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>testcafe-blink-diff</title>
    <style>
      * { margin: 0; padding: 0; }
      body { font-family: Helvetica; }
      ul { list-style-type: none; max-width: 760px; margin: auto; }
      li { margin-top: 20px; }
      button { padding: 5px 10px; background-color: transparent; }
      button ~ button { margin-left: 5px; }
      .noop { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }
      .flex { display: flex; text-align: center; align-items: center; justify-content: center; }
      .info { min-width: 33.3%; }
      .passed { color: green; }
      .passed::before { content: '✓ '; font-size: 30px; }
      .failed { color: red; }
      .failed::before { content: '✗ '; font-size: 30px; }
      .modal { position: fixed; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, .5); overflow: auto; }
      .container { position: absolute; overflow: auto; margin: auto; top: 0; left: 0; right: 0; bottom: 0; }
      .layer { position: absolute; width: 100%; height: 100%; overflow: hidden; }
      .layer > img { display: block; vertical-align: middle; }
      .overlay { border-right: 1px solid rgba(255, 0, 255, .5); overflow: hidden; }
      .slider { position: absolute; z-index: 1; cursor: ew-resize; width: 32px; height: 32px; background-color: #ff00ff; border: 1px solid rgba(255, 0, 255, .5); border-radius: 50%; transition: background-color .3s }
      .close { position: fixed; right: 10px; top: 10px; background-color: rgba(0, 0, 0, .5); width: 30px; height: 30px; border-radius: 50%; color: white; border: 0; }
      .keys { position: fixed; left: 5px; bottom: 5px; background-color: rgba(255, 255, 255, .8); }
      .keys kbd { border-radius: 3px; background-color: rgba(255, 255, 255, .8); box-shadow: 0 1px 3px rgba(0, 0, 0, .5); padding: 0 .3em; }
      .keys li { margin: 0; }
      .keys li + li { margin-top: 5px; }
    </style>
  </head>
  <body>
    <script type="application/json" id="app">[{"thumbnails":{"actual":"Google_Testing_after_search_-_Var_1\\thumbnails\\actual.png","base":"Google_Testing_after_search_-_Var_1\\thumbnails\\base.png"},"images":{"actual":"Google_Testing_after_search_-_Var_1\\actual.png","base":"Google_Testing_after_search_-_Var_1\\base.png","out":"Google_Testing_after_search_-_Var_1\\out.png"},"height":1000,"width":1583,"label":"Google Testing after search - Var 1","diff":"1.36","ok":true},{"thumbnails":{"actual":"Google_Testing_after_search_-_Var_2\\thumbnails\\actual.png","base":"Google_Testing_after_search_-_Var_2\\thumbnails\\base.png"},"images":{"actual":"Google_Testing_after_search_-_Var_2\\actual.png","base":"Google_Testing_after_search_-_Var_2\\base.png","out":"Google_Testing_after_search_-_Var_2\\out.png"},"height":2509,"width":1269,"label":"Google Testing after search - Var 2","diff":"9.37","ok":false},{"thumbnails":{"actual":"Google_Testing\\thumbnails\\actual.png","base":"Google_Testing\\thumbnails\\base.png"},"images":{"actual":"Google_Testing\\actual.png","base":"Google_Testing\\base.png","out":"Google_Testing\\out.png"},"height":800,"width":1280,"label":"Google Testing","diff":"0.00","ok":true}]</script>
    <script>!function(n){"function"==typeof define&&define.amd?define(n):n()}(function(){"use strict";var n=function(n){return Array.isArray(n)},t=function(n){return"function"==typeof n},e=function(n){return null==n},r=function(n){return null!==n&&("function"==typeof n||"object"==typeof n)},o=function(n){return"string"==typeof n||"number"==typeof n||"boolean"==typeof n},i=function(e,o){if(t(e)||t(o)||typeof e!=typeof o)return!0;if(n(e)){if(e.length!==o.length)return!0;if(e.some(function(n){return-1===o.indexOf(n)}))return!0}else{if(!r(e))return e!==o;var u=Object.keys(e).sort(),c=Object.keys(o).sort();if(i(u,c))return!0;for(var f=0;f<u.length;f+=1)if(i(e[u[f]],o[c[f]]))return!0}},u=function(e){return!t(e)&&(n(e)?0===e.length:r(e)?0===Object.keys(e).length:void 0===e||""===e||null===e||!1===e)},c=function(t){return n(t)&&t.length<=3&&("string"==typeof t[0]||"function"==typeof t[0])&&!u(t[0])},f=function(t){return(u(t)||n(t)?t:[t])||[]},s=function(n,t){return n.filter(t||function(n){return!u(n)})},a=function(n,t,e){return Array.from({length:Math.max(n.length,t.length)}).map(function(r,o){return e(n[o],t[o],o)})},d=function(n,t,e){return void 0===e&&(e={}),function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return t===r.length&&n.apply(void 0,r.concat([e]))}},l=function(n,t,e){return n.replaceChild(t,n.childNodes[e])},h=function(n,t){return n.appendChild(t)},v=function(n){return function(n,t){return n&&n.removeChild(t)}(n.parentNode,n)},p="http://www.w3.org/1999/xlink",y=/(\w*)(#[\w-]+)?([\w.-]+)?/;function w(e){return e=c(e)&&t(e[0])?w(e[0](e[1],f(e[2]))):e,n(e[2])&&e[2].forEach(function(n,t){c(n)&&(e[2][t]=w(n))}),e}function m(e){if((n(e[1])||o(e[1]))&&(e[2]=e[1],e[1]=null),t(e[0])&&(e=m(e[0](e[1],f(e[2])))),!c(e))throw new Error("Invalid vnode, given '"+e+"'");var i=e[0].match(y),u=i[1]||"div",s=Object.assign({},e[1]);if(i[2]&&(s.id=i[2].substr(1)),i[3]){var a=i[3].substr(1).split(".");n(s.class)||o(s.class)?(s.class=n(s.class)?s.class:s.class.split(/\W/),s.class=a.concat(s.class).reduce(function(n,t){return-1===n.indexOf(t)&&n.push(t),n},[])):r(s.class)?a.forEach(function(n){s.class[n]=1}):s.class=a}return[u,s,f(e[2])]}function g(n,e,o,i){Object.keys(e).forEach(function(c){if("key"!==c&&!r(e[c])||(e[c]=t(i)&&i(n,c,e[c])||null,"key"!==c)){var f=u(e[c]),s=!0===e[c]?c:e[c],a=c.replace(/^xlink:?/,"");o&&c!==a?f?n.removeAttributeNS(p,a):n.setAttributeNS(p,a,s):f?n.removeAttribute(c):n.setAttribute(c,s)}})}var b="http://www.w3.org/2000/svg";function k(n,t){return void 0===t&&(t=function(n){return n()}),Promise.resolve().then(function(){return t(function(){return n.remove()})})}function E(n,r,i){if(t(n))return n(r,i);if(o(n))return document.createTextNode(n);if(e(n))throw new TypeError("Empty or invalid node, given '"+n+"'");if(!c(n))return n;var f=m([].concat(n)),s=f[0],a=f[1],d=f[2],l=r||"svg"===s,h=l?document.createElementNS(b,s):document.createElement(s);return t(i)&&(h=i(h,s,a,d)||h),t(h)?E(h(),l,i):(u(a)||g(h,a,l,i),t(h.oncreate)&&h.oncreate(h),t(h.enter)&&h.enter(),h.remove=function(){return Promise.resolve().then(function(){return t(h.ondestroy)&&h.ondestroy(h)}).then(function(){return t(h.teardown)&&h.teardown()}).then(function(){return t(h.exit)&&h.exit()}).then(function(){return v(h)})},d.forEach(function(n){u(n)||h.appendChild(E(n,l,i))}),h)}function O(n,t,e){void 0===e&&(e=E),"function"==typeof t&&(e=t,t=n,n=void 0),t||(t=n,n=void 0),n||(n=document.body),"string"==typeof n&&(n=document.querySelector(n));var r=o(t)||c(t)?e(t):t;return h(n,r),r}function x(n,e,r,u,f,s){if(void 0===s&&(s=0),null===s){var d=m([].concat(e)),v=m([].concat(r));(function(n,t,e,r,o){var u,c=Object.keys(t).concat(Object.keys(e)).reduce(function(n,r){return r in t&&!(r in e)?(n[r]=null,u=!0):i(t[r],e[r])&&(n[r]=e[r],u=!0),n},{});return u&&g(n,c,r,o),u})(n,d[1],v[1],u,f)&&(t(n.onupdate)&&n.onupdate(n),t(n.update)&&n.update()),a(d[2],v[2],function(t,e,r){return x(n,t,e,u,f,r)})}else o(e)&&o(r)?i(e,r)&&(n.childNodes[s].nodeValue=r):!e&&r?h(n,E(r,u,f)):e&&!r?k(n.childNodes[s]):e[0]!==r[0]?c(e)&&c(r)?l(n,E(r,u,f),s):a(e,r,function(t,e,r){return x(n,t,e,u,f,r)}):x(n.childNodes[s],e,r,u,f,null)}function j(t){return i=function(n,t){return n?t:void 0},e(o=t)?[]:r(o)?n(o)?s(o):s(Object.keys(o).reduce(function(n,t){return e(o[t])||n.push(i(o[t],t)),n},[])):o;var o,i}function L(e,i,u,c){if(r(c)){if(t(c))return c(u,i,e);if(t(c[i]))return c[i](u,i,e)}r(u)&&function(e,r,i){n(i)?e.setAttribute("data-"+r,JSON.stringify(i)):t(i)||Object.keys(i).forEach(function(n){var t=o(i[n])?i[n]:JSON.stringify(i[n]);e.setAttribute(("data"!==r?"data-":"")+r+"-"+n,t)})}(e,i,u)}var N=["oncreate","onupdate","ondestroy"];function C(n){return n.currentTarget.events[n.type](n)}function A(n,e,o,i){if(t(o))if(n.events=n.events||{},n.teardown||(n.teardown=function(){return Object.keys(n.events).map(function(t){return n.removeEventListener(t,C)})}),"on"===e.substr(0,2)&&-1===N.indexOf(e)){var u=e.substr(2);n.events[u]||n.addEventListener(u,C,!1),n.events[u]=function(n){return function(n,e,o,i){var u;r(i)&&(t(i)?u=!1===i(e,n):t(i[e])&&(u=!1===i[e](n))),u||o(n)}(n,e,o,i)}}else(N.indexOf(e)>-1?n:n.events)[e]=o}var S,M=function(n){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];var o=s(e,t),i=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return o.reduce(function(t,e){return e.apply(void 0,n)||t},void 0)};return function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.length<=2?n(t[0],t[1],i):i.apply(void 0,t)}}(E,d(A,3,S),function(n){return d(L,3,n)}({class:function(n){return j(n).join(" ")}}));function I(n){var t,e,r,o=O(n.parentNode,["div",{class:"slider"}],M);function i(){t=n.parentNode.offsetWidth,e=n.parentNode.offsetHeight,n.style.width=t/2+"px",o.style.left=t/2-o.offsetWidth/2+"px",o.style.top=e/2-o.offsetHeight/2+"px"}function u(t){n.style.width=t+"px",o.style.left=n.offsetWidth-o.offsetWidth/2+"px"}function c(e){var o;if(!r)return!1;(o=function(t){var e=n.getBoundingClientRect(),r=(t||window.event).pageX-e.left;return r-=window.pageXOffset}(e))<0&&(o=0),o>t&&(o=t),u(o)}function f(n){n.preventDefault(),r=1,window.addEventListener("mousemove",c),window.addEventListener("touchmove",c)}function s(){r=0}return i(),o.addEventListener("mousedown",f),o.addEventListener("touchstart",f),window.addEventListener("mouseup",s),window.addEventListener("touchstop",s),{set width(n){u(n)},get width(){return parseInt(n.style.width,10)},update:function(){i()},teardown:function(){o.removeEventListener("mousedown",f),o.removeEventListener("touchstart",f),window.removeEventListener("mouseup",s),window.removeEventListener("touchstop",s),window.removeEventListener("mousemove",c),window.removeEventListener("touchmove",c),k(o)}}}function T(n,t,e){var r,o;function i(n){window.removeEventListener("keyup",n),document.body.style.overflow="",r&&r.teardown(),o.unmount()}function u(n){37===n.keyCode&&o.prev(n),39===n.keyCode&&o.next(n),32===n.keyCode&&(n.preventDefault(),o.change()),27===n.keyCode&&i(u)}function c(n){n&&n.target!==o.target||i(u)}function f(){return I(document.querySelector(".overlay"))}function s(){r&&r.update()}function a(n){if(n.width>screen.width||n.height>screen.height)return{width:n.width/2,height:n.height/2}}window.addEventListener("keyup",u);var d=function(n,t,e){return function(r,o){void 0===o&&(o=E);var i,u,c=Object.assign({},t),f=Object.keys(e).reduce(function(t,r){return t[r]=function(){for(var t=[],s=arguments.length;s--;)t[s]=arguments[s];return Promise.resolve().then(function(){return e[r].apply(e,t)(c)}).then(function(n){return Object.assign(c,n)}).then(function(t){x(i,u,u=w(n(t,f)),null,o,null)})},t},{});return i=O(r,u=w(n(c,f)),o),f.unmount=function(){return k(i)},f.target=i,f}}(function(n){var t,r=n.key,o=n.diff;return[".noop.modal",{onclick:c},[[".container",{style:(t=e[r],t.width>screen.width||t.height>screen.height?"width:100%;height:100%":"width:"+t.width+"px;height:"+t.height+"px"),onupdate:s},(o?[["img",Object.assign({src:e[r].images.out},a(e[r]))]]:[[".layer",[["img.a",Object.assign({src:e[r].images.actual},a(e[r]))]]],[".layer.overlay",[["img.b",Object.assign({src:e[r].images.base},a(e[r]))]]]]).concat([["button.close",{onclick:function(){return c()}},"×"]])]]]},{diff:t,key:n},{next:function(n){return function(t){var o=t.key;if(t.diff||!n.shiftKey)return{key:Math.min(o+1,e.length-1)};r.width=Math.min(e[o].width,r.width+.25*e[o].width)}},prev:function(n){return function(t){var o=t.key;if(t.diff||!n.shiftKey)return{key:Math.max(o-1,0)};r.width=Math.max(0,r.width-.25*e[o].width)}},change:function(){return function(n){var t=n.diff;return r?(r.teardown(),r=null):t&&setTimeout(function(){r=f()}),{diff:!t}}}});o=d(document.body,M),document.body.style.overflow="hidden",t||(r=f())}var W=document.getElementById("app"),D=JSON.parse(W.innerHTML);W.parentNode.removeChild(W),O([function(){return D.length?["ul",D.map(function(n,t){return function(n,t){return["li",[["strong",n.label],[".flex",[["img.noop",{src:n.thumbnails.base}],["img.noop",{src:n.thumbnails.actual}],[".info",{class:n.ok?"passed":"failed"},[["h3",n.ok?"It passed.":"It did not passed"],["h2","Diff: "+n.diff+"%"],["button.noop",{onclick:function(){return T(t,!0,D)}},"Open diff"],["button.noop",{onclick:function(){return T(t,!1,D)}},"Compare"]]]]]]]}(n,t)})]:["ul",[["li","No differences to report"]]]}],M)});
//# sourceMappingURL=reporter.umd.js.map

</script>
    <ul class="keys">
      <li><kbd>ESC</kbd> &mdash; <small>To close open Modal</small></li>
      <li><kbd>SPACE</kbd> &mdash; <small>Switch between diff/compare views in Modal mode</small></li>
      <li><kbd>LEFT</kbd> <small>or</small> <kbd>RIGHT</kbd> &mdash; <small>Go to previous and next image in Modal mode</small></li>
      <li><kbd>SHIFT</kbd> <small>+</small> <kbd>LEFT</kbd> <small>or</small> <kbd>RIGHT</kbd> &mdash; <small>Move handle horizontally from diff view on Modal mode</small></li>
    </ul>
  </body>
</html>
